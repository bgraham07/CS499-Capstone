<!-- Trip Filter Section -->
<div class="trip-filter-container">
  <h2 class="section-title">Filter Trips</h2>
  <div class="trip-form">
    <label>Destination:</label>
    <input [(ngModel)]="filters.destination" type="text" placeholder="Enter destination">

    <label>Min Price:</label>
    <input [(ngModel)]="filters.priceMin" type="number" placeholder="Minimum price">

    <label>Max Price:</label>
    <input [(ngModel)]="filters.priceMax" type="number" placeholder="Maximum price">

    <label>Sort By:</label>
    <select [(ngModel)]="filters.sortBy">
      <option value="perPerson">Price</option>
      <option value="name">Name</option>
    </select>

    <label>Sort Direction:</label>
    <select [(ngModel)]="filters.sortDirection">
      <option value="asc">Ascending</option>
      <option value="desc">Descending</option>
    </select>

    <button class="filter-btn" (click)="loadTrips()">Apply Filters</button>
  </div>
</div>

<!-- Form section for adding a new trip -->
<div class="trip-form-container">
  <h2 class="section-title">Add a New Trip</h2>
  <div class="trip-form">
    <!-- Input field for the name of the trip -->
    <label>Name of Trip:</label>
    <input [(ngModel)]="newTrip.name" type="text">
    
    <!-- Input field for the trip length in days -->
    <label>Length of Stay:</label>
    <input [(ngModel)]="newTrip.length" type="number">
    
    <!-- Input field for the name of the resort -->
    <label>Resort Name:</label>
    <input [(ngModel)]="newTrip.resort" type="text">
    
    <!-- Input field for the cost per person -->
    <label>Cost Per Person:</label>
    <input [(ngModel)]="newTrip.perPerson" type="number">

    <!-- Button to trigger the addTrip() function -->
    <button class="add-btn" (click)="addTrip()">Add Trip</button>
  </div>
</div>


<!-- Section heading for the available trips -->
<h2 class="section-title">Available Trips</h2>

<!-- List of trip cards displayed from the trips array -->
<div class="trip-list">
  <div class="trip-card" *ngFor="let trip of trips">
    <!-- Only show view mode when not editing this trip -->
    <div *ngIf="editingTripId !== trip._id">
      <h3>{{ trip.name }}</h3>
      <p><strong>Resort:</strong> {{ trip.resort }}</p>
      <p><strong>Price:</strong> ${{ trip.perPerson }}</p>
      <!-- Button to enter edit mode -->
      <button class="edit-btn" (click)="startEdit(trip)">Edit</button>
      <!-- Button to delete the current trip -->
      <button class="delete-btn" (click)="deleteTrip(trip._id)">Delete</button>
    </div>
  </div>
</div>

<!-- Edit form that appears when a trip is being edited -->
<div *ngIf="editingTripId" class="trip-form-container">
  <h2 class="section-title">Edit Trip</h2>
  <div class="trip-form">
    <!-- Input fields for editing the trip properties -->
    <label>Name of Trip:</label>
    <input [(ngModel)]="editedTrip.name" type="text">
    
    <label>Length of Stay:</label>
    <input [(ngModel)]="editedTrip.length" type="number">
    
    <label>Resort Name:</label>
    <input [(ngModel)]="editedTrip.resort" type="text">
    
    <label>Cost Per Person:</label>
    <input [(ngModel)]="editedTrip.perPerson" type="number">
    
    <!-- Buttons to save or cancel the edit -->
    <button class="update-btn" (click)="saveEdit()">Save</button>
    <button class="cancel-btn" (click)="cancelEdit()">Cancel</button>
  </div>
</div>